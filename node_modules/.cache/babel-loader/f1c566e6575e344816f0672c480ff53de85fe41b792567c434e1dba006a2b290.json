{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Work/Personal/Personal/allenamenti_arco.github.io/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useMemo,useState,useEffect}from\"react\";import{Calendar,X,Pause,Plus,Minus}from\"lucide-react\";import{initializeApp}from'firebase/app';import{getFirestore,updateDoc}from'firebase/firestore';import{collection,doc,getDocs,setDoc,addDoc,getDoc}from\"firebase/firestore\";import{getDatabase,ref,onValue,set,push}from'firebase/database';import React from\"react\";import\"./App.css\";import logo from\"./logo192.png\";// Import the logo image\nimport arcoImage from\"./arco.jpg\";import Modal from\"./Modal\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const firebaseConfig={apiKey:\"AIzaSyARiqtsVR7cmX6iU3cD0P7LvvWfp4zv4To\",authDomain:\"prenotazione-arco.firebaseapp.com\",projectId:\"prenotazione-arco\",storageBucket:\"prenotazione-arco.firebasestorage.app\",messagingSenderId:\"308635909661\",appId:\"1:308635909661:web:ea5396b2903d880f30d0f4\",databaseURL:\"https://prenotazione-arco-default-rtdb.europe-west1.firebasedatabase.app\"// Updated URL\n};// Initialize Firebase\nconst firebaseApp=initializeApp(firebaseConfig);// Initialize Firestore\nconst db=getFirestore(firebaseApp);async function get_initial_data(){const docRef=doc(db,'giorni','5h6XEaykZl2USUmmcb6U');const docSnap=await getDoc(docRef);if(docSnap.exists()){return JSON.parse(docSnap.data().campo);}else{console.log(\"No such document!\");}};const initialData=get_initial_data();async function fetchGiorniDocument(){// Define a reference to the document\nconst docRef=doc(db,'giorni','5h6XEaykZl2USUmmcb6U');// Fetch the document\ntry{const docSnap=await getDoc(docRef);if(docSnap.exists()){console.log(\"Document data:\",docSnap.data());return JSON.parse(docSnap.data().campo);// Document data\n}else{console.log(\"No such document!\");return null;}}catch(error){console.error(\"Error getting document:\",error);return null;}};async function updatePopup(newMessage,newEnabled){// Reference the specific document you want to update\nconst docRef=doc(db,'giorni','popup_avvisi');const updateData={enabled:newEnabled,message:newMessage};try{// Update the document with the new data\nawait updateDoc(docRef,updateData);console.log(\"Document successfully updated!\");}catch(error){console.error(\"Error updating document: \",error);}};async function updateGiorniDocument(newData){// Reference the specific document you want to update\nconst docRef=doc(db,'giorni','5h6XEaykZl2USUmmcb6U');const updateData={campo:JSON.stringify(newData)};try{// Update the document with the new data\nawait updateDoc(docRef,updateData);console.log(\"Document successfully updated!\");}catch(error){console.error(\"Error updating document: \",error);}};//const adminpassword = \"LUCA\"; // Define the correct password here\nasync function fetchPassword(docId){const docRef=doc(db,'giorni',docId);// Fetch the document\ntry{const docSnap=await getDoc(docRef);if(docSnap.exists()){return docSnap.data().password;// Document data\n}else{console.log(\"No such document!\");return null;}}catch(error){console.error(\"Error getting document:\",error);return null;}};function App(){const[isLoggedIn,setIsLoggedIn]=useState(false);const[isAdmin,setIsAdmin]=useState(false);const[password,setPassword]=useState(\"\");//  const correctPassword = \"luca\"; // Set your desired password\nconst handleLogin=async e=>{e.preventDefault();// Fetch the stored password from Firestore\nconst loginPassword=await fetchPassword(\"loginpassword\");const adminpassword=await fetchPassword(\"adminpassword\");if(password===loginPassword){setIsLoggedIn(true);}else if(password===adminpassword){setIsAdmin(true);}else{alert(\"Incorrect password. Please try again.\");}};const[isMenuOpen,setIsMenuOpen]=useState(false);const toggleMenu=()=>{setIsMenuOpen(prev=>!prev);};const[data,setData]=useState(initialData);const[activeTab,setActiveTab]=useState('Lunedì');const[formInput,setFormInput]=useState({turno:\"Primo Turno\",nome:\"\"});const[formAllenatoreInput,setFormAllenatoreInput]=useState(\"\");const[formLuogoInput,setFormLuogoInput]=useState(\"\");const[weekDates,setWeekDates]=useState({});const[sortConfig,setSortConfig]=useState({key:\"id\",direction:\"asc\"});// Sorting state\nconst[message,setMessage]=useState(\"\");const[showPopup,setShowPopup]=useState(false);const[showModal,setShowModal]=useState(false);// To track whether to show the modal\n// Update the default value of `formInput.turno` based on `activeTab`\nuseEffect(()=>{if(activeTab===\"Giovedì\"){setFormInput(prev=>_objectSpread(_objectSpread({},prev),{},{turno:\"Turno Unico\"}));}else{setFormInput(prev=>_objectSpread(_objectSpread({},prev),{},{turno:\"Primo Turno\"}));}},[activeTab]);// Runs whenever `activeTab` changes\nuseEffect(()=>{const fetchData=async()=>{const docRef=doc(db,'giorni','5h6XEaykZl2USUmmcb6U');const docSnap=await getDoc(docRef);if(docSnap.exists()){setData(JSON.parse(docSnap.data().campo));}else{console.log(\"No such document!\");}};fetchData();},[]);useEffect(()=>{const getNextDateForDay=dayName=>{const daysOfWeek=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];const today=new Date();const todayIndex=today.getDay();const targetIndex=daysOfWeek.indexOf(dayName);const diff=(targetIndex-todayIndex+7)%7;const nextDate=new Date();nextDate.setDate(today.getDate()+diff);return nextDate.toLocaleDateString(\"it-IT\",{weekday:\"short\",month:\"short\",day:\"numeric\"}).substr(3);};const dates={Lunedì:getNextDateForDay(\"Monday\"),Mercoledì:getNextDateForDay(\"Wednesday\"),Giovedì:getNextDateForDay(\"Thursday\"),Sabato:getNextDateForDay(\"Saturday\")};setWeekDates(dates);},[]);function postiRimasti(totale,usati){return totale-usati;};// Handle form submission\nconst handleFormSubmit=e=>{e.preventDefault();// Ensure name is not empty\nif(formInput.nome.trim()===\"\")return;// Extract the current turn\nconst{turno,nome}=formInput;// Update the data state\nsetData(prevData=>{const updatedDay=_objectSpread({},prevData[activeTab]);// Clone the active day\nupdatedDay.turni=updatedDay.turni.map(turnoItem=>{if(turnoItem.nome===turno){if(turnoItem.prenotazioni.length<turnoItem.posti&&!turnoItem.sospeso){return _objectSpread(_objectSpread({},turnoItem),{},{prenotazioni:[...turnoItem.prenotazioni,{nome:nome,turno:turno}// Add the new booking\n]});}else if(turnoItem.sospeso){alert(\"Allenamento sospeso!\");}else{alert(\"Posti esauriti!\");}}return turnoItem;// Keep other turns unchanged\n});const updatedData=_objectSpread(_objectSpread({},prevData),{},{[activeTab]:updatedDay// Update the active day\n});updateGiorniDocument(updatedData);return updatedData;});// Reset the form input\nsetFormInput({turno:\"Primo Turno\",nome:\"\"});};// Handle form Allenatore submission\nconst handleFormAllenatoreSubmit=e=>{e.preventDefault();// Ensure name is not empty\nif(formAllenatoreInput.trim()===\"\")return;// Update the data state\nsetData(prevData=>{const updatedDay=_objectSpread({},prevData[activeTab]);// Clone the active day\nupdatedDay.turni=updatedDay.turni.map(turnoItem=>{return _objectSpread(_objectSpread({},turnoItem),{},{allenatore:formAllenatoreInput});// Keep other turns unchanged\n});const updatedData=_objectSpread(_objectSpread({},prevData),{},{[activeTab]:updatedDay// Update the active day\n});updateGiorniDocument(updatedData);return updatedData;});// Reset the form input\nsetFormAllenatoreInput(\"\");};const handleFormLuogoSubmit=e=>{e.preventDefault();// Ensure name is not empty\nif(formLuogoInput.trim()===\"\")return;// Update the data state\nsetData(prevData=>{const updatedDay=_objectSpread({},prevData[activeTab]);// Clone the active day\nupdatedDay.luogo=formLuogoInput;const updatedData=_objectSpread(_objectSpread({},prevData),{},{[activeTab]:updatedDay// Update the active day\n});updateGiorniDocument(updatedData);return updatedData;});// Reset the form input\nsetFormLuogoInput(\"\");};// Delete a record\nconst handleDelete=(day,turnoName,nomeToDelete)=>{const isConfirmed=window.confirm(\"Sei sicuro di voler CANCELLARE la prenotazione per \"+nomeToDelete+\"?\");if(!isConfirmed)return;setData(prevData=>{const updatedDay=_objectSpread({},prevData[day]);// Clone the specific day\nupdatedDay.turni=updatedDay.turni.map(turno=>{if(turno.nome===turnoName){return _objectSpread(_objectSpread({},turno),{},{prenotazioni:turno.prenotazioni.filter(prenotazione=>prenotazione.nome!==nomeToDelete)});}return turno;});const updatedData=_objectSpread(_objectSpread({},prevData),{},{[day]:updatedDay// Update only the relevant day\n});updateGiorniDocument(updatedData);return updatedData;});};// Suspend or resume a training turn\nconst handleSuspendToggle=async(day,turnoName)=>{const enteredPassword=window.prompt(\"Inserisci la password per sospendere l'allenamento:\");const adminpassword=await fetchPassword(\"adminpassword\");if(enteredPassword===adminpassword){setData(prevData=>{const updatedDay=_objectSpread({},prevData[day]);updatedDay.turni=updatedDay.turni.map(turno=>{if(turno.nome===turnoName){return _objectSpread(_objectSpread({},turno),{},{sospeso:!turno.sospeso});// Toggle suspension\n}return turno;});const updatedData=_objectSpread(_objectSpread({},prevData),{},{[day]:updatedDay});updateGiorniDocument(updatedData);return updatedData;});}else{alert(\"Password sbagliata, impossibile procedere\");}};const handleReserveToggle=async(day,turnoName)=>{const enteredPassword=window.prompt(\"Inserisci la password per riservare l'allenamento agli iscritti fitarco:\");const adminpassword=await fetchPassword(\"adminpassword\");if(enteredPassword===adminpassword){setData(prevData=>{const updatedDay=_objectSpread({},prevData[day]);updatedDay.turni=updatedDay.turni.map(turno=>{if(turno.nome===turnoName){return _objectSpread(_objectSpread({},turno),{},{riservato:!turno.riservato});// Toggle suspension\n}return turno;});const updatedData=_objectSpread(_objectSpread({},prevData),{},{[day]:updatedDay});updateGiorniDocument(updatedData);return updatedData;});}else{alert(\"Password sbagliata, impossibile procedere\");}};// Update available spots for a turn\nconst handleUpdatePosti=(day,turnoName,newPosti)=>{setData(prevData=>{const updatedDay=_objectSpread({},prevData[day]);updatedDay.turni=updatedDay.turni.map(turno=>{if(turno.nome===turnoName){return _objectSpread(_objectSpread({},turno),{},{posti:newPosti});// Update posti\n}return turno;});const updatedData=_objectSpread(_objectSpread({},prevData),{},{[day]:updatedDay});updateGiorniDocument(updatedData);return updatedData;});};// Delete all subs for that turn\nconst handleDeleteAllSubs=async(day,turnoName)=>{const enteredPassword=window.prompt(\"Inserisci la password per cancellare tutti gli iscritti di \"+day);const adminpassword=await fetchPassword(\"adminpassword\");if(enteredPassword===adminpassword){setData(prevData=>{const updatedDay=_objectSpread({},prevData[day]);updatedDay.turni=updatedDay.turni.map(turno=>{if(turno.nome===turnoName){return _objectSpread(_objectSpread({},turno),{},{prenotazioni:[]});}return turno;});const updatedData=_objectSpread(_objectSpread({},prevData),{},{[day]:updatedDay});updateGiorniDocument(updatedData);return updatedData;});}else{alert(\"Password sbagliata, impossibile procedere\");}};// Load settings from localStorage when component mounts\nuseEffect(()=>{const fetchData=async()=>{const docRef=doc(db,'giorni','popup_avvisi');const docSnap=await getDoc(docRef);if(docSnap.exists()){setMessage(docSnap.data().message);setShowPopup(docSnap.data().enabled);// Show popup if enabled\nif(docSnap.data().enabled&&(isLoggedIn||isAdmin)){setShowModal(true);}}else{console.log(\"No such document!\");}};fetchData();},[isLoggedIn,isAdmin]);// Save settings when inputs change\nconst handleSavePopup=async e=>{e.preventDefault();try{updatePopup(message,showPopup);alert(\"Settings saved successfully!\");// Show popup immediately if enabled\nif(showPopup){setShowModal(true);}}catch(error){console.error(\"Error saving settings:\",error);}};const handleCloseModal=()=>{setShowModal(false);// Close the modal\n};// RETURN\nif(!isLoggedIn&&!isAdmin){return/*#__PURE__*/_jsx(\"div\",{className:\"login-page\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",className:\"login-logo\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Login to Arcieri Valconca\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Inserisci Password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"primary-button\",children:\"Login\"})]})});}else if(isAdmin){return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",style:{backgroundImage:\"url(\".concat(arcoImage,\")\"),backgroundSize:\"cover\",backgroundPosition:\"center\",backgroundAttachment:\"fixed\",// Keeps the background fixed\nminHeight:\"100vh\"// Ensures it covers the whole viewport\n},children:[showModal&&/*#__PURE__*/_jsx(Modal,{message:message,onClose:handleCloseModal}),/*#__PURE__*/_jsxs(\"header\",{className:\"navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-left\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",className:\"navbar-logo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"logo-text\",children:\"Arcieri Valconca\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"hamburger\",onClick:toggleMenu,children:\"\\u2630\"}),/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar-menu \".concat(isMenuOpen?\"open\":\"\"),children:[/*#__PURE__*/_jsx(\"a\",{href:\"Segnapunti_10_vole.pdf\",download:\"Segnapunti_10_vole.pdf\",children:\"Download Segnapunti Indoor\"}),/*#__PURE__*/_jsx(\"a\",{href:\"Segnapunti_12_vole_72_frecce.pdf\",download:\"Segnapunti_12_vole_72_frecce.pdf\",children:\"Download Segnapunti Outdoor\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://docs.google.com/spreadsheets/d/11_P5Tp79USRnDzy4NDw_2u3zsvyeaU33LsEISs46uKs/edit?gid=0#gid=0\",target:\"_blank\",children:\"Calendario Tecnici\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://docs.google.com/spreadsheets/d/1eO8TQW-4I0wmI7VCpdxiNsQRAAzB5lsx/edit?gid=1333899302#gid=1333899302\",target:\"_blank\",children:\"File Gare\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tabbini\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tabs\",children:Object.keys(data).map(day=>/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab===day?\"active\":\"\"),onClick:()=>setActiveTab(day),children:day+weekDates[day]},day))}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsxs(\"font\",{size:\"5\",children:[\"Calendario del \",/*#__PURE__*/_jsx(\"strong\",{children:activeTab.toUpperCase()}),\" a \",/*#__PURE__*/_jsx(\"strong\",{children:data[activeTab].luogo.toUpperCase()})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Mecca\",children:data[activeTab].turni.map(turno=>/*#__PURE__*/_jsx(\"section\",{className:\"booking-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"turno-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(\"strong\",{children:turno.nome})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Posti disponibili: \",/*#__PURE__*/_jsx(\"strong\",{children:postiRimasti(turno.posti,turno.prenotazioni.length)+\"/\"+turno.posti})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Allenatore: \",/*#__PURE__*/_jsx(\"strong\",{children:turno.allenatore})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Stato: \",/*#__PURE__*/_jsx(\"strong\",{children:turno.sospeso?/*#__PURE__*/_jsx(\"font\",{style:{color:\"#990000\"},children:\"Sospeso\"}):\"Attivo\"})]}),turno.riservato?/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(\"font\",{style:{color:\"#990000\"},children:\"SOLO ISCRITTI FITARCO\"})})}):/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"turno-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"suspend-button \".concat(turno.riservato?\"resume\":\"suspend\"),onClick:()=>handleReserveToggle(activeTab,turno.nome),children:turno.riservato?\"Allenamento Libero\":\"Riserva FITARCO\"}),/*#__PURE__*/_jsx(\"button\",{className:\"suspend-button \".concat(turno.sospeso?\"resume\":\"suspend\"),onClick:()=>handleSuspendToggle(activeTab,turno.nome),children:turno.sospeso?\"Riprendi Allenamento\":\"Sospendi Allenamento\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"posti-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUpdatePosti(activeTab,turno.nome,turno.posti-1),disabled:turno.posti<=0,children:\"-\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUpdatePosti(activeTab,turno.nome,turno.posti+1),children:\"+\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"delete-subs\",onClick:()=>handleDeleteAllSubs(activeTab,turno.nome),children:\"Cancella Iscritti\"})})]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"booking-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nome Arciere\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cancella Prenotazione\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:turno.prenotazioni.map(prenotazione=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:prenotazione.nome}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"delete-button\",onClick:()=>handleDelete(activeTab,turno.nome,prenotazione.nome),children:\"X\"})})]},prenotazione.nome))})]}),turno.prenotazioni.length===0&&/*#__PURE__*/_jsxs(\"p\",{className:\"no-data\",children:[\"Nessun iscritto per \",turno.nome,\".\"]}),/*#__PURE__*/_jsx(\"h2\",{}),/*#__PURE__*/_jsx(\"h2\",{})]},turno.nome)}))}),/*#__PURE__*/_jsxs(\"section\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Prenota allenamento per \",/*#__PURE__*/_jsx(\"strong\",{children:activeTab})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{className:\"booking-form\",children:[/*#__PURE__*/_jsx(\"select\",{value:formInput.turno,onChange:e=>setFormInput(_objectSpread(_objectSpread({},formInput),{},{turno:e.target.value})),children:data[activeTab].turni.map(turno=>/*#__PURE__*/_jsx(\"option\",{value:turno.nome,children:turno.nome},turno.nome))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Inserisci il tuo nome\",value:formInput.nome,onChange:e=>setFormInput(_objectSpread(_objectSpread({},formInput),{},{nome:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"primary-button\",onClick:handleFormSubmit,children:\"Invia\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Imposta Allenatore per il giorno selezionato\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{className:\"booking-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Inserisci il nome dell'allenatore\",value:formAllenatoreInput,onChange:e=>setFormAllenatoreInput(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"primary-button\",onClick:handleFormAllenatoreSubmit,children:\"Cambia Allenatore\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Imposta Luogo per il giorno selezionato\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{className:\"booking-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Inserisci il luogo dell'allenamento\",value:formLuogoInput,onChange:e=>setFormLuogoInput(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"primary-button\",onClick:handleFormLuogoSubmit,children:\"Cambia Luogo\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Attiva/Disattiva popup avvisi\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{className:\"booking-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Inserisci il messaggio del popup\",value:message,onChange:e=>setMessage(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:showPopup,onChange:e=>setShowPopup(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{children:\"Attiva popup\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSavePopup,className:\"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition\",children:\"Salva Popup\"})]})]}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Arcieri Apollo Artemide Valconca\"})})]});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",style:{backgroundImage:\"url(\".concat(arcoImage,\")\"),backgroundSize:\"cover\",backgroundPosition:\"center\",backgroundAttachment:\"fixed\",// Keeps the background fixed\nminHeight:\"100vh\"// Ensures it covers the whole viewport\n},children:[showModal&&/*#__PURE__*/_jsx(Modal,{message:message,onClose:handleCloseModal}),/*#__PURE__*/_jsxs(\"header\",{className:\"navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-left\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",className:\"navbar-logo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"logo-text\",children:\"Arcieri Valconca\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"hamburger\",onClick:toggleMenu,children:\"\\u2630\"}),/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar-menu \".concat(isMenuOpen?\"open\":\"\"),children:[/*#__PURE__*/_jsx(\"a\",{href:\"Segnapunti_10_vole.pdf\",download:\"Segnapunti_10_vole.pdf\",children:\"Download Segnapunti Indoor\"}),/*#__PURE__*/_jsx(\"a\",{href:\"Segnapunti_12_vole_72_frecce.pdf\",download:\"Segnapunti_12_vole_72_frecce.pdf\",children:\"Download Segnapunti Outdoor\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://docs.google.com/spreadsheets/d/11_P5Tp79USRnDzy4NDw_2u3zsvyeaU33LsEISs46uKs/edit?gid=0#gid=0\",target:\"_blank\",children:\"Calendario Tecnici\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://docs.google.com/spreadsheets/d/1eO8TQW-4I0wmI7VCpdxiNsQRAAzB5lsx/edit?gid=1333899302#gid=1333899302\",target:\"_blank\",children:\"File Gare\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tabbini\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tabs\",children:Object.keys(data).map(day=>/*#__PURE__*/_jsx(\"button\",{className:\"tab-button \".concat(activeTab===day?\"active\":\"\"),onClick:()=>setActiveTab(day),children:day+weekDates[day]},day))}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsxs(\"font\",{size:\"5\",children:[\"Calendario del \",/*#__PURE__*/_jsx(\"strong\",{children:activeTab.toUpperCase()}),\" a \",/*#__PURE__*/_jsx(\"strong\",{children:data[activeTab].luogo.toUpperCase()})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"Mecca\",children:data[activeTab].turni.map(turno=>/*#__PURE__*/_jsx(\"section\",{className:\"booking-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"turno-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(\"strong\",{children:turno.nome})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Posti disponibili: \",/*#__PURE__*/_jsx(\"strong\",{children:postiRimasti(turno.posti,turno.prenotazioni.length)+\"/\"+turno.posti})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Allenatore: \",/*#__PURE__*/_jsx(\"strong\",{children:turno.allenatore})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Stato: \",/*#__PURE__*/_jsx(\"strong\",{children:turno.sospeso?/*#__PURE__*/_jsx(\"font\",{style:{color:\"#990000\"},children:\"Sospeso\"}):\"Attivo\"})]}),turno.riservato?/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(\"font\",{style:{color:\"#990000\"},children:\"SOLO ISCRITTI FITARCO\"})})}):/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"table\",{className:\"booking-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Nome Arciere\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cancella Prenotazione\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:turno.prenotazioni.map(prenotazione=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:prenotazione.nome}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"delete-button\",onClick:()=>handleDelete(activeTab,turno.nome,prenotazione.nome),children:\"X\"})})]},prenotazione.nome))})]}),turno.prenotazioni.length===0&&/*#__PURE__*/_jsxs(\"p\",{className:\"no-data\",children:[\"Nessun iscritto per \",turno.nome,\".\"]}),/*#__PURE__*/_jsx(\"h2\",{}),/*#__PURE__*/_jsx(\"h2\",{})]},turno.nome)}))}),/*#__PURE__*/_jsxs(\"section\",{className:\"form-section\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Prenota allenamento per \",/*#__PURE__*/_jsx(\"strong\",{children:activeTab})]}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{className:\"booking-form\",children:[/*#__PURE__*/_jsx(\"select\",{value:formInput.turno,onChange:e=>setFormInput(_objectSpread(_objectSpread({},formInput),{},{turno:e.target.value})),children:data[activeTab].turni.map(turno=>/*#__PURE__*/_jsx(\"option\",{value:turno.nome,children:turno.nome},turno.nome))}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Inserisci il tuo nome\",value:formInput.nome,onChange:e=>setFormInput(_objectSpread(_objectSpread({},formInput),{},{nome:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"primary-button\",onClick:handleFormSubmit,children:\"Invia\"})]})]}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Arcieri Apollo Artemide Valconca\"})})]});}}export default App;","map":{"version":3,"names":["useMemo","useState","useEffect","Calendar","X","Pause","Plus","Minus","initializeApp","getFirestore","updateDoc","collection","doc","getDocs","setDoc","addDoc","getDoc","getDatabase","ref","onValue","set","push","React","logo","arcoImage","Modal","jsx","_jsx","jsxs","_jsxs","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","databaseURL","firebaseApp","db","get_initial_data","docRef","docSnap","exists","JSON","parse","data","campo","console","log","initialData","fetchGiorniDocument","error","updatePopup","newMessage","newEnabled","updateData","enabled","message","updateGiorniDocument","newData","stringify","fetchPassword","docId","password","App","isLoggedIn","setIsLoggedIn","isAdmin","setIsAdmin","setPassword","handleLogin","e","preventDefault","loginPassword","adminpassword","alert","isMenuOpen","setIsMenuOpen","toggleMenu","prev","setData","activeTab","setActiveTab","formInput","setFormInput","turno","nome","formAllenatoreInput","setFormAllenatoreInput","formLuogoInput","setFormLuogoInput","weekDates","setWeekDates","sortConfig","setSortConfig","key","direction","setMessage","showPopup","setShowPopup","showModal","setShowModal","_objectSpread","fetchData","getNextDateForDay","dayName","daysOfWeek","today","Date","todayIndex","getDay","targetIndex","indexOf","diff","nextDate","setDate","getDate","toLocaleDateString","weekday","month","day","substr","dates","Lunedì","Mercoledì","Giovedì","Sabato","postiRimasti","totale","usati","handleFormSubmit","trim","prevData","updatedDay","turni","map","turnoItem","prenotazioni","length","posti","sospeso","updatedData","handleFormAllenatoreSubmit","allenatore","handleFormLuogoSubmit","luogo","handleDelete","turnoName","nomeToDelete","isConfirmed","window","confirm","filter","prenotazione","handleSuspendToggle","enteredPassword","prompt","handleReserveToggle","riservato","handleUpdatePosti","newPosti","handleDeleteAllSubs","handleSavePopup","handleCloseModal","className","children","onSubmit","src","alt","type","placeholder","value","onChange","target","required","style","backgroundImage","concat","backgroundSize","backgroundPosition","backgroundAttachment","minHeight","onClose","onClick","href","download","Object","keys","size","toUpperCase","color","disabled","checked"],"sources":["C:/Users/User/Work/Personal/Personal/allenamenti_arco.github.io/src/App.js"],"sourcesContent":["import { useMemo, useState, useEffect } from \"react\";\r\nimport { Calendar, X, Pause, Plus, Minus } from \"lucide-react\";\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getFirestore, updateDoc } from 'firebase/firestore';\r\nimport { collection, doc, getDocs, setDoc, addDoc, getDoc } from \"firebase/firestore\";\r\nimport { getDatabase, ref, onValue, set, push } from 'firebase/database';\r\nimport React from \"react\";\r\nimport \"./App.css\";\r\nimport logo from \"./logo192.png\"; // Import the logo image\r\nimport arcoImage from \"./arco.jpg\"\r\nimport Modal from \"./Modal\"\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyARiqtsVR7cmX6iU3cD0P7LvvWfp4zv4To\",\r\n  authDomain: \"prenotazione-arco.firebaseapp.com\",\r\n  projectId: \"prenotazione-arco\",\r\n  storageBucket: \"prenotazione-arco.firebasestorage.app\",\r\n  messagingSenderId: \"308635909661\",\r\n  appId: \"1:308635909661:web:ea5396b2903d880f30d0f4\",\r\n  databaseURL: \"https://prenotazione-arco-default-rtdb.europe-west1.firebasedatabase.app\" // Updated URL\r\n};\r\n\r\n// Initialize Firebase\r\nconst firebaseApp = initializeApp(firebaseConfig);\r\n\r\n// Initialize Firestore\r\nconst db = getFirestore(firebaseApp);\r\n\r\nasync function get_initial_data() {\r\n  const docRef = doc(db, 'giorni', '5h6XEaykZl2USUmmcb6U');\r\n  const docSnap = await getDoc(docRef);\r\n  if (docSnap.exists()) {\r\n    return (JSON.parse(docSnap.data().campo));\r\n  } else {\r\n    console.log(\"No such document!\");\r\n  }\r\n};\r\n\r\nconst initialData = get_initial_data();\r\n\r\n\r\nasync function fetchGiorniDocument() {\r\n  // Define a reference to the document\r\n  const docRef = doc(db, 'giorni', '5h6XEaykZl2USUmmcb6U');\r\n\r\n  // Fetch the document\r\n  try {\r\n    const docSnap = await getDoc(docRef);\r\n    if (docSnap.exists()) {\r\n      console.log(\"Document data:\", docSnap.data());\r\n      return JSON.parse(docSnap.data().campo); // Document data\r\n    } else {\r\n      console.log(\"No such document!\");\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error getting document:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nasync function updatePopup(newMessage, newEnabled) {\r\n  // Reference the specific document you want to update\r\n  const docRef = doc(db, 'giorni', 'popup_avvisi');\r\n  const updateData = {\r\n    enabled: newEnabled,\r\n    message: newMessage,\r\n  };\r\n\r\n  try {\r\n    // Update the document with the new data\r\n    await updateDoc(docRef, updateData);\r\n    console.log(\"Document successfully updated!\");\r\n  } catch (error) {\r\n    console.error(\"Error updating document: \", error);\r\n  }\r\n};\r\n\r\nasync function updateGiorniDocument(newData) {\r\n  // Reference the specific document you want to update\r\n  const docRef = doc(db, 'giorni', '5h6XEaykZl2USUmmcb6U');\r\n  const updateData = {\r\n    campo: JSON.stringify(newData),\r\n  };\r\n\r\n  try {\r\n    // Update the document with the new data\r\n    await updateDoc(docRef, updateData);\r\n    console.log(\"Document successfully updated!\");\r\n  } catch (error) {\r\n    console.error(\"Error updating document: \", error);\r\n  }\r\n};\r\n\r\ninterface Prenotazione {\r\n  nome: string;\r\n  giorno: string;\r\n  turno: string;\r\n}\r\n\r\ninterface Giorno {\r\n  nome: string;\r\n  turni: {\r\n    nome: string;\r\n    posti: number;\r\n    prenotazioni: Prenotazione[];\r\n    sospeso: boolean;\r\n  }[];\r\n}\r\n\r\n//const adminpassword = \"LUCA\"; // Define the correct password here\r\nasync function fetchPassword(docId) {\r\n  const docRef = doc(db, 'giorni', docId);\r\n\r\n  // Fetch the document\r\n  try {\r\n    const docSnap = await getDoc(docRef);\r\n    if (docSnap.exists()) {\r\n      return docSnap.data().password; // Document data\r\n    } else {\r\n      console.log(\"No such document!\");\r\n      return null;\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error getting document:\", error);\r\n    return null;\r\n  }\r\n};\r\n\r\nfunction App() {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n//  const correctPassword = \"luca\"; // Set your desired password\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    // Fetch the stored password from Firestore\r\n    const loginPassword = await fetchPassword(\"loginpassword\");\r\n    const adminpassword = await fetchPassword(\"adminpassword\");\r\n    if (password === loginPassword) {\r\n      setIsLoggedIn(true);\r\n    } else if (password === adminpassword) {\r\n      setIsAdmin(true)\r\n    } else {\r\n      alert(\"Incorrect password. Please try again.\");\r\n    }\r\n  };\r\n\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n  const toggleMenu = () => {\r\n    setIsMenuOpen((prev) => !prev);\r\n  };\r\n\r\n  const [data, setData] = useState(initialData);\r\n  const [activeTab, setActiveTab] = useState('Lunedì');\r\n  const [formInput, setFormInput] = useState({turno: \"Primo Turno\", nome: \"\" });\r\n  const [formAllenatoreInput, setFormAllenatoreInput] = useState(\"\");\r\n  const [formLuogoInput, setFormLuogoInput] = useState(\"\");\r\n  const [weekDates, setWeekDates] = useState({});\r\n  const [sortConfig, setSortConfig] = useState({ key: \"id\", direction: \"asc\" }); // Sorting state\r\n  const [message, setMessage] = useState(\"\");\r\n  const [showPopup, setShowPopup] = useState(false);\r\n  const [showModal, setShowModal] = useState(false); // To track whether to show the modal\r\n\r\n  // Update the default value of `formInput.turno` based on `activeTab`\r\n  useEffect(() => {\r\n    if (activeTab === \"Giovedì\") {\r\n      setFormInput((prev) => ({ ...prev, turno: \"Turno Unico\" }));\r\n    } else {\r\n      setFormInput((prev) => ({ ...prev, turno: \"Primo Turno\" }));\r\n    }\r\n  }, [activeTab]); // Runs whenever `activeTab` changes\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const docRef = doc(db, 'giorni', '5h6XEaykZl2USUmmcb6U');\r\n\r\n        const docSnap = await getDoc(docRef);\r\n        if (docSnap.exists()) {\r\n          setData(JSON.parse(docSnap.data().campo));\r\n        } else {\r\n          console.log(\"No such document!\");\r\n        }\r\n\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const getNextDateForDay = (dayName) => {\r\n      const daysOfWeek = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n      const today = new Date();\r\n      const todayIndex = today.getDay();\r\n      const targetIndex = daysOfWeek.indexOf(dayName);\r\n      const diff = (targetIndex - todayIndex + 7) % 7;\r\n      const nextDate = new Date();\r\n      nextDate.setDate(today.getDate() + diff);\r\n      return nextDate.toLocaleDateString(\"it-IT\", { weekday: \"short\", month: \"short\", day: \"numeric\" }).substr(3);\r\n    };\r\n    const dates = {\r\n      Lunedì: getNextDateForDay(\"Monday\"),\r\n      Mercoledì: getNextDateForDay(\"Wednesday\"),\r\n      Giovedì: getNextDateForDay(\"Thursday\"),\r\n      Sabato: getNextDateForDay(\"Saturday\"),\r\n    };\r\n\r\n    setWeekDates(dates);\r\n  }, []);\r\n\r\n  function postiRimasti(totale, usati) {\r\n    return totale - usati;\r\n  };\r\n\r\n  // Handle form submission\r\n  const handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // Ensure name is not empty\r\n    if (formInput.nome.trim() === \"\") return;\r\n\r\n    // Extract the current turn\r\n    const { turno, nome } = formInput;\r\n\r\n    // Update the data state\r\n    setData((prevData) => {\r\n      const updatedDay = { ...prevData[activeTab] }; // Clone the active day\r\n\r\n      updatedDay.turni = updatedDay.turni.map((turnoItem) => {\r\n        if (turnoItem.nome === turno) {\r\n          if (turnoItem.prenotazioni.length < turnoItem.posti && !turnoItem.sospeso) {\r\n            return {\r\n              ...turnoItem,\r\n              prenotazioni: [\r\n                ...turnoItem.prenotazioni,\r\n                { nome: nome, turno: turno }, // Add the new booking\r\n              ],\r\n            };\r\n          } else if (turnoItem.sospeso) {\r\n            alert(\"Allenamento sospeso!\");\r\n          } else {\r\n            alert(\"Posti esauriti!\");\r\n          }\r\n        }\r\n        return turnoItem; // Keep other turns unchanged\r\n      });\r\n\r\n      const updatedData = {\r\n        ...prevData,\r\n        [activeTab]: updatedDay, // Update the active day\r\n      };\r\n\r\n      updateGiorniDocument(updatedData);\r\n\r\n      return updatedData;\r\n    });\r\n\r\n    // Reset the form input\r\n    setFormInput({ turno: \"Primo Turno\", nome: \"\" });\r\n  };\r\n\r\n  // Handle form Allenatore submission\r\n  const handleFormAllenatoreSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // Ensure name is not empty\r\n    if (formAllenatoreInput.trim() === \"\") return;\r\n\r\n    // Update the data state\r\n    setData((prevData) => {\r\n      const updatedDay = { ...prevData[activeTab] }; // Clone the active day\r\n\r\n      updatedDay.turni = updatedDay.turni.map((turnoItem) => {\r\n        return {\r\n          ...turnoItem,\r\n          allenatore: formAllenatoreInput,\r\n        }; // Keep other turns unchanged\r\n      });\r\n\r\n      const updatedData = {\r\n        ...prevData,\r\n        [activeTab]: updatedDay, // Update the active day\r\n      };\r\n\r\n      updateGiorniDocument(updatedData);\r\n\r\n      return updatedData;\r\n    });\r\n\r\n    // Reset the form input\r\n    setFormAllenatoreInput(\"\");\r\n  };\r\n\r\n  const handleFormLuogoSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    // Ensure name is not empty\r\n    if (formLuogoInput.trim() === \"\") return;\r\n\r\n    // Update the data state\r\n    setData((prevData) => {\r\n      const updatedDay = { ...prevData[activeTab] }; // Clone the active day\r\n\r\n      updatedDay.luogo = formLuogoInput;\r\n\r\n      const updatedData = {\r\n        ...prevData,\r\n        [activeTab]: updatedDay, // Update the active day\r\n      };\r\n\r\n      updateGiorniDocument(updatedData);\r\n\r\n      return updatedData;\r\n    });\r\n\r\n    // Reset the form input\r\n    setFormLuogoInput(\"\");\r\n  };\r\n\r\n   // Delete a record\r\n  const handleDelete = (day, turnoName, nomeToDelete) => {\r\n    const isConfirmed = window.confirm(\r\n      \"Sei sicuro di voler CANCELLARE la prenotazione per \" + nomeToDelete + \"?\"\r\n    );\r\n\r\n    if (!isConfirmed) return;\r\n\r\n    setData((prevData) => {\r\n      const updatedDay = { ...prevData[day] }; // Clone the specific day\r\n      updatedDay.turni = updatedDay.turni.map((turno) => {\r\n        if (turno.nome === turnoName) {\r\n          return {\r\n            ...turno,\r\n            prenotazioni: turno.prenotazioni.filter((prenotazione) => prenotazione.nome !== nomeToDelete),\r\n          };\r\n        }\r\n        return turno;\r\n      });\r\n\r\n      const updatedData = {\r\n        ...prevData,\r\n        [day]: updatedDay, // Update only the relevant day\r\n      };\r\n\r\n      updateGiorniDocument(updatedData);\r\n\r\n      return updatedData;\r\n    });\r\n  };\r\n\r\n  // Suspend or resume a training turn\r\n  const handleSuspendToggle = async (day, turnoName) => {\r\n    const enteredPassword = window.prompt(\r\n      \"Inserisci la password per sospendere l'allenamento:\"\r\n    );\r\n\r\n    const adminpassword = await fetchPassword(\"adminpassword\");\r\n\r\n    if (enteredPassword === adminpassword) {\r\n      setData((prevData) => {\r\n        const updatedDay = { ...prevData[day] };\r\n        updatedDay.turni = updatedDay.turni.map((turno) => {\r\n          if (turno.nome === turnoName) {\r\n            return { ...turno, sospeso: !turno.sospeso }; // Toggle suspension\r\n          }\r\n          return turno;\r\n        });\r\n\r\n        const updatedData = {\r\n          ...prevData,\r\n          [day]: updatedDay,\r\n        };\r\n\r\n        updateGiorniDocument(updatedData);\r\n        return updatedData;\r\n      });\r\n    } else {\r\n      alert(\"Password sbagliata, impossibile procedere\");\r\n    }\r\n  };\r\n\r\n  const handleReserveToggle = async (day, turnoName) => {\r\n    const enteredPassword = window.prompt(\r\n      \"Inserisci la password per riservare l'allenamento agli iscritti fitarco:\"\r\n    );\r\n\r\n    const adminpassword = await fetchPassword(\"adminpassword\");\r\n\r\n    if (enteredPassword === adminpassword) {\r\n      setData((prevData) => {\r\n        const updatedDay = { ...prevData[day] };\r\n        updatedDay.turni = updatedDay.turni.map((turno) => {\r\n          if (turno.nome === turnoName) {\r\n            return { ...turno, riservato: !turno.riservato }; // Toggle suspension\r\n          }\r\n          return turno;\r\n        });\r\n\r\n        const updatedData = {\r\n          ...prevData,\r\n          [day]: updatedDay,\r\n        };\r\n\r\n        updateGiorniDocument(updatedData);\r\n        return updatedData;\r\n      });\r\n    } else {\r\n      alert(\"Password sbagliata, impossibile procedere\");\r\n    }\r\n  };\r\n\r\n  // Update available spots for a turn\r\n  const handleUpdatePosti = (day, turnoName, newPosti) => {\r\n    setData((prevData) => {\r\n      const updatedDay = { ...prevData[day] };\r\n      updatedDay.turni = updatedDay.turni.map((turno) => {\r\n        if (turno.nome === turnoName) {\r\n          return { ...turno, posti: newPosti }; // Update posti\r\n        }\r\n        return turno;\r\n      });\r\n\r\n      const updatedData = {\r\n        ...prevData,\r\n        [day]: updatedDay,\r\n      };\r\n\r\n      updateGiorniDocument(updatedData);\r\n      return updatedData;\r\n    });\r\n\r\n  };\r\n\r\n  // Delete all subs for that turn\r\n  const handleDeleteAllSubs = async (day, turnoName) => {\r\n    const enteredPassword = window.prompt(\r\n      \"Inserisci la password per cancellare tutti gli iscritti di \" + day\r\n    );\r\n\r\n    const adminpassword = await fetchPassword(\"adminpassword\");\r\n\r\n    if (enteredPassword === adminpassword) {\r\n      setData((prevData) => {\r\n        const updatedDay = { ...prevData[day] };\r\n        updatedDay.turni = updatedDay.turni.map((turno) => {\r\n          if (turno.nome === turnoName) {\r\n            return { ...turno, prenotazioni: [] };\r\n          }\r\n          return turno;\r\n        });\r\n\r\n        const updatedData = {\r\n          ...prevData,\r\n          [day]: updatedDay,\r\n        };\r\n\r\n        updateGiorniDocument(updatedData);\r\n        return updatedData;\r\n      });\r\n    } else {\r\n      alert(\"Password sbagliata, impossibile procedere\");\r\n    }\r\n  };\r\n\r\n\r\n  // Load settings from localStorage when component mounts\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const docRef = doc(db, 'giorni', 'popup_avvisi');\r\n\r\n      const docSnap = await getDoc(docRef);\r\n      if (docSnap.exists()) {\r\n        setMessage(docSnap.data().message);\r\n        setShowPopup(docSnap.data().enabled);\r\n\r\n        // Show popup if enabled\r\n        if (docSnap.data().enabled && (isLoggedIn || isAdmin)) {\r\n          setShowModal(true);\r\n        }\r\n      } else {\r\n        console.log(\"No such document!\");\r\n      }\r\n\r\n    };\r\n\r\n    fetchData();\r\n  }, [isLoggedIn, isAdmin]);\r\n\r\n\r\n  // Save settings when inputs change\r\n  const handleSavePopup = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      updatePopup(message, showPopup)\r\n      alert(\"Settings saved successfully!\");\r\n\r\n      // Show popup immediately if enabled\r\n      if (showPopup) {\r\n        setShowModal(true);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error saving settings:\", error);\r\n    }\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setShowModal(false); // Close the modal\r\n  };\r\n\r\n\r\n\r\n  // RETURN\r\n  if (!isLoggedIn && !isAdmin) {\r\n    return (\r\n      <div className=\"login-page\">\r\n        <form className=\"login-form\" onSubmit={handleLogin}>\r\n          <img src={logo} alt=\"Logo\" className=\"login-logo\" />\r\n          <h2>Login to Arcieri Valconca</h2>\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Inserisci Password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required\r\n          />\r\n          <button type=\"submit\" className=\"primary-button\">\r\n            Login\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n  else if (isAdmin) {\r\n    return (\r\n      <div className=\"App\" style={{\r\n          backgroundImage: `url(${arcoImage})`,\r\n          backgroundSize: \"cover\",\r\n          backgroundPosition: \"center\",\r\n          backgroundAttachment: \"fixed\", // Keeps the background fixed\r\n          minHeight: \"100vh\", // Ensures it covers the whole viewport\r\n          }}\r\n        >\r\n        {/* Navbar */}\r\n        {showModal && <Modal message={message} onClose={handleCloseModal} />}\r\n        <header className=\"navbar\">\r\n          <div className=\"navbar-left\">\r\n            <img src={logo} alt=\"Logo\" className=\"navbar-logo\" />\r\n            <div className=\"logo-text\">Arcieri Valconca</div>\r\n          </div>\r\n          <button className=\"hamburger\" onClick={toggleMenu}>\r\n            ☰\r\n          </button>\r\n          <nav className={`navbar-menu ${isMenuOpen ? \"open\" : \"\"}`}>\r\n            <a href=\"Segnapunti_10_vole.pdf\" download=\"Segnapunti_10_vole.pdf\">Download Segnapunti Indoor</a>\r\n            <a href=\"Segnapunti_12_vole_72_frecce.pdf\" download=\"Segnapunti_12_vole_72_frecce.pdf\">Download Segnapunti Outdoor</a>\r\n            <a href=\"https://docs.google.com/spreadsheets/d/11_P5Tp79USRnDzy4NDw_2u3zsvyeaU33LsEISs46uKs/edit?gid=0#gid=0\" target=\"_blank\">Calendario Tecnici</a>\r\n            <a href=\"https://docs.google.com/spreadsheets/d/1eO8TQW-4I0wmI7VCpdxiNsQRAAzB5lsx/edit?gid=1333899302#gid=1333899302\" target=\"_blank\">File Gare</a>\r\n          </nav>\r\n        </header>\r\n\r\n        {/* Tabs Section */}\r\n        <div className=\"tabbini\">\r\n          <div className=\"tabs\">\r\n            {Object.keys(data).map((day) => (\r\n              <button\r\n                key={day}\r\n                className={`tab-button ${activeTab === day ? \"active\" : \"\"}`}\r\n                onClick={() => setActiveTab(day)}\r\n              >\r\n                {day + weekDates[day]}\r\n              </button>\r\n            ))}\r\n          </div>\r\n          <div>\r\n            <h2><font size=\"5\">Calendario del <strong>{activeTab.toUpperCase()}</strong> a <strong>{data[activeTab].luogo.toUpperCase()}</strong></font></h2>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"Mecca\">\r\n          {data[activeTab].turni.map((turno) => (\r\n            <section className=\"booking-section\">\r\n              <div key={turno.nome} className=\"turno-section\">\r\n                <h2><strong>{turno.nome}</strong></h2>\r\n                <p>Posti disponibili: <strong>{postiRimasti(turno.posti, turno.prenotazioni.length)+\"/\"+turno.posti}</strong></p>\r\n                <p>Allenatore: <strong>{turno.allenatore}</strong></p>\r\n                <p>Stato: <strong>{turno.sospeso ? <font style={{color:\"#990000\"}}>Sospeso</font> : \"Attivo\"}</strong></p>\r\n                {turno.riservato ? <p><strong><font style={{color:\"#990000\"}}>SOLO ISCRITTI FITARCO</font></strong></p> : <br />}\r\n\r\n                <div className=\"turno-controls\">\r\n                  {/* Toggle Suspension */}\r\n                  <div>\r\n                    <button\r\n                      className={`suspend-button ${turno.riservato ? \"resume\" : \"suspend\"}`}\r\n                      onClick={() => handleReserveToggle(activeTab, turno.nome)}\r\n                    >\r\n                      {turno.riservato ? \"Allenamento Libero\" : \"Riserva FITARCO\"}\r\n                    </button>\r\n                    <button\r\n                      className={`suspend-button ${turno.sospeso ? \"resume\" : \"suspend\"}`}\r\n                      onClick={() => handleSuspendToggle(activeTab, turno.nome)}\r\n                    >\r\n                      {turno.sospeso ? \"Riprendi Allenamento\" : \"Sospendi Allenamento\"}\r\n                    </button>\r\n                  </div>\r\n\r\n                  {/* Update Available Spots */}\r\n                  <div className=\"posti-controls\">\r\n                    <div>\r\n                      <button\r\n                        onClick={() => handleUpdatePosti(activeTab, turno.nome, turno.posti - 1)}\r\n                        disabled={turno.posti <= 0}\r\n                      >\r\n                        -\r\n                      </button>\r\n                      <button\r\n                        onClick={() => handleUpdatePosti(activeTab, turno.nome, turno.posti + 1)}\r\n                      >\r\n                        +\r\n                      </button>\r\n                    </div>\r\n                    <div>\r\n                      <button className=\"delete-subs\"\r\n                        onClick={() => handleDeleteAllSubs(activeTab, turno.nome)}\r\n                      >\r\n                        Cancella Iscritti\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Booking Table */}\r\n                <table className=\"booking-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Nome Arciere</th>\r\n                      <th>Cancella Prenotazione</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {turno.prenotazioni.map((prenotazione) => (\r\n                      <tr key={prenotazione.nome}>\r\n                        <td>{prenotazione.nome}</td>\r\n                        <td>\r\n                          <button\r\n                            className=\"delete-button\"\r\n                            onClick={() =>\r\n                              handleDelete(activeTab, turno.nome, prenotazione.nome)\r\n                            }\r\n                          >\r\n                            X\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n                {turno.prenotazioni.length === 0 && (\r\n                  <p className=\"no-data\">Nessun iscritto per {turno.nome}.</p>\r\n                )}\r\n                <h2></h2>\r\n                <h2></h2>\r\n              </div>\r\n            </section>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Form Section */}\r\n        <section className=\"form-section\">\r\n          <h1>Prenota allenamento per <strong>{activeTab}</strong></h1> <br />\r\n          <form className=\"booking-form\">\r\n            <select\r\n              value={formInput.turno}\r\n              onChange={(e) => setFormInput({ ...formInput, turno: e.target.value })}\r\n            >\r\n              {data[activeTab].turni.map((turno) => (\r\n                <option key={turno.nome} value={turno.nome}>\r\n                  {turno.nome}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Inserisci il tuo nome\"\r\n              value={formInput.nome}\r\n              onChange={(e) => setFormInput({ ...formInput, nome: e.target.value })}\r\n              required\r\n            />\r\n            <button type=\"submit\" className=\"primary-button\" onClick={handleFormSubmit}>\r\n              Invia\r\n            </button>\r\n          </form>\r\n        </section>\r\n\r\n        <section className=\"form-section\">\r\n          <h1>Imposta Allenatore per il giorno selezionato</h1> <br />\r\n          <form className=\"booking-form\">\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"Inserisci il nome dell'allenatore\"\r\n                value={formAllenatoreInput}\r\n                onChange={(e) => setFormAllenatoreInput(e.target.value)}\r\n                required\r\n              />\r\n            <button type=\"submit\" className=\"primary-button\" onClick={handleFormAllenatoreSubmit}>\r\n              Cambia Allenatore\r\n            </button>\r\n          </form>\r\n        </section>\r\n\r\n        <section className=\"form-section\">\r\n          <h1>Imposta Luogo per il giorno selezionato</h1> <br />\r\n          <form className=\"booking-form\">\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"Inserisci il luogo dell'allenamento\"\r\n                value={formLuogoInput}\r\n                onChange={(e) => setFormLuogoInput(e.target.value)}\r\n                required\r\n              />\r\n            <button type=\"submit\" className=\"primary-button\" onClick={handleFormLuogoSubmit}>\r\n              Cambia Luogo\r\n            </button>\r\n          </form>\r\n        </section>\r\n\r\n        <section className=\"form-section\">\r\n          <h1>Attiva/Disattiva popup avvisi</h1> <br />\r\n          <form className=\"booking-form\">\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"Inserisci il messaggio del popup\"\r\n                value={message}\r\n                onChange={(e) => setMessage(e.target.value)}\r\n                required\r\n              />\r\n            <input\r\n                  type=\"checkbox\"\r\n                  checked={showPopup}\r\n                  onChange={(e) => setShowPopup(e.target.checked)}\r\n                />\r\n            <span>Attiva popup</span>\r\n            <button\r\n              onClick={handleSavePopup}\r\n              className=\"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition\"\r\n            >\r\n              Salva Popup\r\n            </button>\r\n          </form>\r\n        </section>\r\n\r\n        {/* Footer */}\r\n        <footer>\r\n          <p>Arcieri Apollo Artemide Valconca</p>\r\n        </footer>\r\n      </div>\r\n    );\r\n  }\r\n  else {\r\n    return (\r\n      <div className=\"App\" style={{\r\n          backgroundImage: `url(${arcoImage})`,\r\n          backgroundSize: \"cover\",\r\n          backgroundPosition: \"center\",\r\n          backgroundAttachment: \"fixed\", // Keeps the background fixed\r\n          minHeight: \"100vh\", // Ensures it covers the whole viewport\r\n          }}\r\n        >\r\n        {/* Navbar */}\r\n        {showModal && <Modal message={message} onClose={handleCloseModal} />}\r\n        <header className=\"navbar\">\r\n          <div className=\"navbar-left\">\r\n            <img src={logo} alt=\"Logo\" className=\"navbar-logo\" />\r\n            <div className=\"logo-text\">Arcieri Valconca</div>\r\n          </div>\r\n          <button className=\"hamburger\" onClick={toggleMenu}>\r\n            ☰\r\n          </button>\r\n          <nav className={`navbar-menu ${isMenuOpen ? \"open\" : \"\"}`}>\r\n            <a href=\"Segnapunti_10_vole.pdf\" download=\"Segnapunti_10_vole.pdf\">Download Segnapunti Indoor</a>\r\n            <a href=\"Segnapunti_12_vole_72_frecce.pdf\" download=\"Segnapunti_12_vole_72_frecce.pdf\">Download Segnapunti Outdoor</a>\r\n            <a href=\"https://docs.google.com/spreadsheets/d/11_P5Tp79USRnDzy4NDw_2u3zsvyeaU33LsEISs46uKs/edit?gid=0#gid=0\" target=\"_blank\">Calendario Tecnici</a>\r\n            <a href=\"https://docs.google.com/spreadsheets/d/1eO8TQW-4I0wmI7VCpdxiNsQRAAzB5lsx/edit?gid=1333899302#gid=1333899302\" target=\"_blank\">File Gare</a>\r\n          </nav>\r\n        </header>\r\n\r\n        {/* Tabs Section */}\r\n        <div className=\"tabbini\">\r\n          <div className=\"tabs\">\r\n            {Object.keys(data).map((day) => (\r\n              <button\r\n                key={day}\r\n                className={`tab-button ${activeTab === day ? \"active\" : \"\"}`}\r\n                onClick={() => setActiveTab(day)}\r\n              >\r\n                {day + weekDates[day]}\r\n              </button>\r\n            ))}\r\n          </div>\r\n          <div>\r\n            <h2><font size=\"5\">Calendario del <strong>{activeTab.toUpperCase()}</strong> a <strong>{data[activeTab].luogo.toUpperCase()}</strong></font></h2>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"Mecca\">\r\n          {data[activeTab].turni.map((turno) => (\r\n            <section className=\"booking-section\">\r\n              <div key={turno.nome} className=\"turno-section\">\r\n                <h2><strong>{turno.nome}</strong></h2>\r\n                <p>Posti disponibili: <strong>{postiRimasti(turno.posti, turno.prenotazioni.length)+\"/\"+turno.posti}</strong></p>\r\n                <p>Allenatore: <strong>{turno.allenatore}</strong></p>\r\n                <p>Stato: <strong>{turno.sospeso ? <font style={{color:\"#990000\"}}>Sospeso</font> : \"Attivo\"}</strong></p>\r\n                {turno.riservato ? <p><strong><font style={{color:\"#990000\"}}>SOLO ISCRITTI FITARCO</font></strong></p> : <br />}\r\n\r\n                {/* Booking Table */}\r\n                <table className=\"booking-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Nome Arciere</th>\r\n                      <th>Cancella Prenotazione</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {turno.prenotazioni.map((prenotazione) => (\r\n                      <tr key={prenotazione.nome}>\r\n                        <td>{prenotazione.nome}</td>\r\n                        <td>\r\n                          <button\r\n                            className=\"delete-button\"\r\n                            onClick={() =>\r\n                              handleDelete(activeTab, turno.nome, prenotazione.nome)\r\n                            }\r\n                          >\r\n                            X\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n                {turno.prenotazioni.length === 0 && (\r\n                  <p className=\"no-data\">Nessun iscritto per {turno.nome}.</p>\r\n                )}\r\n                <h2></h2>\r\n                <h2></h2>\r\n              </div>\r\n            </section>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Form Section */}\r\n        <section className=\"form-section\">\r\n          <h1>Prenota allenamento per <strong>{activeTab}</strong></h1> <br />\r\n          <form className=\"booking-form\">\r\n            <select\r\n              value={formInput.turno}\r\n              onChange={(e) => setFormInput({ ...formInput, turno: e.target.value })}\r\n            >\r\n              {data[activeTab].turni.map((turno) => (\r\n                <option key={turno.nome} value={turno.nome}>\r\n                  {turno.nome}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Inserisci il tuo nome\"\r\n              value={formInput.nome}\r\n              onChange={(e) => setFormInput({ ...formInput, nome: e.target.value })}\r\n              required\r\n            />\r\n            <button type=\"submit\" className=\"primary-button\" onClick={handleFormSubmit}>\r\n              Invia\r\n            </button>\r\n          </form>\r\n        </section>\r\n\r\n        {/* Footer */}\r\n        <footer>\r\n          <p>Arcieri Apollo Artemide Valconca</p>\r\n        </footer>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}